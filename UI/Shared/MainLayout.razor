@* filepath: c:\MasterFacturacion\Agiles_facturaci-n\UI\Shared\MainLayout.razor *@
@namespace UI.Shared
@inherits LayoutComponentBase

@code {
    private bool menuMinimizado = false;
    private void ToggleMenu() => menuMinimizado = !menuMinimizado;
}

<div class="page-wrapper">
    <div class="sidebar-modern @(menuMinimizado ? "minimizado" : "")">
        <div class="toggle-btn-container">
            <button class="toggle-btn" @onclick="ToggleMenu" title="Minimizar menÃº">
                <i class="fa-solid @(menuMinimizado ? "fa-chevron-right" : "fa-chevron-left")"></i>
            </button>
        </div>
        <NavMenu Minimizado="menuMinimizado" />
    </div>
    <div class="main-content @(menuMinimizado ? "expandido" : "")">
        <div class="content-area @(menuMinimizado ? "ampliado" : "")">
            @Body
        </div>
    </div>
</div>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .page-wrapper {
        display: flex;
        min-height: 100vh;
        width: 100vw;
        background: #f8f9fa;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .sidebar-modern {
        width: 270px;
        transition: width 0.2s;
        background: linear-gradient(180deg, #6a82fb 0%, #fc5c7d 100%);
        min-height: 100vh;
        box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: stretch;
        overflow: hidden;
    }

    .sidebar-modern.minimizado {
        width: 72px;
    }

    .toggle-btn-container {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        padding: 16px 12px 8px 0;
    }

    .toggle-btn {
        background: rgba(255, 255, 255, 0.18);
        border: none;
        color: #fff;
        border-radius: 8px;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.2s;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        font-size: 1.3rem;
    }

    .toggle-btn:hover {
        background: rgba(255, 255, 255, 0.35);
    }

    .main-content {
        width: 100%;
        transition: margin-left 0.2s;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .sidebar-modern::-webkit-scrollbar {
        width: 6px;
    }

    .sidebar-modern::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
    }

    .sidebar-modern::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 3px;
    }

    .sidebar-modern::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.5);
    }

    .login-page {
        background: #f0f2f5;
    }
</style>
